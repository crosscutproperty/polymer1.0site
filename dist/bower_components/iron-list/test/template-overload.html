<!doctype html><html><head><meta charset="UTF-8"><title>iron-list test</title><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><link rel="import" href="helpers.html"><link rel="import" href="o-list.html"></head><body><test-fixture id="defaultTemplateList"><template><o-list></o-list></template></test-fixture><test-fixture id="templateOverloadList"><template><o-list><template><div class="overloaded-template">[[item.index]]</div></template></o-list></template></test-fixture><script>

    suite('template overloading', function() {
      var list;

      setup(function() {
        list = fixture('templateOverloadList');
      });

      test('check physical item size', function(done) {
        var setSize = 10;
        list.items = buildDataSet(setSize);

        flush(function() {
          assert.equal(list.items.length, setSize);
          done();
        });
      });

      test('check item template', function(done) {
        list.items = buildDataSet(1);

        flush(function() {
          assert.equal(list.$.list.$.items.querySelectorAll('.overloaded-template').length, 1);
          done();
        });
      });

      test('check count of physical items', function(done) {
        var setSize = 1;
        list.items = buildDataSet(setSize);

        flush(function() {
          assert.equal(Polymer.dom(list).querySelectorAll('*').length - 1, setSize);
          done();
        });
      });
    });

  </script></body></html>